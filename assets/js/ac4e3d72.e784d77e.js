"use strict";(self.webpackChunkblog_vertexcover=self.webpackChunkblog_vertexcover||[]).push([[831],{86:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>g,contentTitle:()=>p,default:()=>x,frontMatter:()=>h,metadata:()=>o,toc:()=>m});var o=r(5271),s=r(4848),i=r(8453),a=r(4187),n=r(8700),l=r(614),d=r(9538),c=r(3031);const h={slug:"strot-is-a-review-parser",title:"Strot - The Review Parser",date:new Date("2025-07-28T00:00:00.000Z"),draft:!1},p=void 0,g={authorsImageUrls:[]},m=[{value:"What if ... ?",id:"what-if--",level:2},{value:"The Genesis",id:"the-genesis",level:2},{value:"The codegen",id:"the-codegen",level:2},{value:"Roadmap",id:"roadmap",level:2}];function u(e){const t={a:"a",code:"code",h2:"h2",p:"p",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"This is a breakdown into what went into making Strot - The Review Parser."}),"\n",(0,s.jsxs)(l.A,{children:[(0,s.jsx)(t.p,{children:"Strot works in two steps:"}),(0,s.jsx)(n.A,{items:["Intercepts the right ajax calls from the website based on both visual analysis and via captured HAR logs","Uses those calls to fetch the reviews subsequently. So, getting top 100 reviews doesn't need to scrape the website AGAIN."]})]}),"\n","\n",(0,s.jsx)(t.h2,{id:"what-if--",children:"What if ... ?"}),"\n",(0,s.jsx)(t.p,{children:"When is comes to scraping reviews, things CAN BE slightly different than running playwright scripts. That's the idea we started with!"}),"\n",(0,s.jsx)(t.p,{children:"It stems from the insights on browsing shopify. Since, shopify has plugin ecosystem, a lot of reviews come from plugins. They give the reviews in html / json form via api that the page renders.\nSince, reviews - if they are worthwhile - would be in 100s for a given product, it would be very unlikely that someone with good web-dev practices will send all of them on one shot. There MUST be a second call (pagination) that requests for further reviews for the given product."}),"\n",(0,s.jsx)(t.p,{children:"What if ... we could scrape reviews via intercepting AJAX calls that are made from the browser?"}),"\n",(0,s.jsx)(t.h2,{id:"the-genesis",children:"The Genesis"}),"\n",(0,s.jsxs)(t.p,{children:["Hence, an experiement is born - called ",(0,s.jsx)(t.code,{children:"strot"}),". In sanskrit it means source. We are trying to get to the ajax calls that gets us reviews."]}),"\n",(0,s.jsx)(t.p,{children:"The review scraping problem sits at a unique position. There are always MANY reviews which either causes cost ballooning no matter which existing approach you take."}),"\n",(0,s.jsx)(a.A,{data:[{feature:"Cost",playwright:{text:"Infrastructure costs for automation",score:"medium"},llmScraper:{text:"Pay per page + LLM inference",score:"poor"},strot:{text:"One-time API discovery",score:"good"}},{feature:"Speed",playwright:{text:"Slow - full page loads",score:"poor"},llmScraper:{text:"Slow - LLM processing per page",score:"poor"},strot:{text:"Fast - direct API calls",score:"good"}},{feature:"Reliability",playwright:{text:"Breaks with UI changes",score:"poor"},llmScraper:{text:"Depends on LLM accuracy",score:"medium"},strot:{text:"Most reliable - uses actual APIs",score:"good"}},{feature:"Scalability",playwright:{text:"Limited by browser resources",score:"poor"},llmScraper:{text:"Limited by LLM rate limits",score:"poor"},strot:{text:"Highly scalable - standard HTTP",score:"good"}},{feature:"Maintenance",playwright:{text:"High - UI changes break scripts",score:"poor"},llmScraper:{text:"Medium - prompt engineering needed",score:"medium"},strot:{text:"Low - APIs rarely change",score:"good"}},{feature:"Intelligence Required",playwright:{text:"High - manual scraper",score:"poor"},llmScraper:{text:"High - per page analysis",score:"poor"},strot:{text:"One-time - for API discovery",score:"medium"}},{feature:"Volume Handling",playwright:{text:"Poor - loads full pages",score:"poor"},llmScraper:{text:"Expensive - each page costs $",score:"poor"},strot:{text:"Excellent - pagination via API",score:"good"}},{feature:"Setup Complexity",playwright:{text:"Medium - browser automation",score:"medium"},llmScraper:{text:"Low - plug and play",score:"good"},strot:{text:"Low - plug and play",score:"good"}},{feature:"Uniqueness",playwright:{text:"Common approach",score:"poor"},llmScraper:{text:"Common approach",score:"poor"},strot:{text:"Unique to us",score:"good"}}],columns:["playwright","llmScraper","strot"],columnHeaders:["Playwright","LLM Scraper","Strot (Ours)"]}),"\n",(0,s.jsx)(t.p,{children:"So, IF we could find the ajax call \u2192 we only have to spend time figuring out the API call. and voila! You can simply call API - this is cheapest, fastest, most reliable approach of all."}),"\n",(0,s.jsx)(t.p,{children:"And the unique to us. Hence, we took a bite."}),"\n",(0,s.jsx)(t.p,{children:"But the challenge is which api call is most relevnt for scraping reviews ?\nwe solve this by capturing screenshot, visually analysing if review is preseng in the screenshot. Then we find a matching ajax call that has a similar content. Voila!"}),"\n","\n",(0,s.jsx)(t.h2,{id:"the-codegen",children:"The codegen"}),"\n",(0,s.jsx)(t.p,{children:"We internally represent all the relevant information as json. This helps us to generate http client in any language of choice. Calling this API endpoint in succession will give all the reviews."}),"\n",(0,s.jsxs)(d.A,{title:"Iteratively Improving via Error Analysis and Evals",children:[(0,s.jsx)(t.p,{children:"Evals were central to us while building this. We had three tiered system for evals that served us well."}),(0,s.jsx)(n.A,{items:["Does the analysis identify the right ajax call?","Is the pagination strategy detection done correctly?","Is the http api (codegen) able to get all the reviews?"]}),(0,s.jsxs)(c.A,{title:"Error Analysis",children:[(0,s.jsx)(t.p,{children:"This was the most consuming element for us until we vibe-coded initial version of this dashboard to see the logs as data."}),(0,s.jsx)(t.p,{children:"Here is a quick peek over the dashboard we made to do the error analysis:"}),(0,s.jsx)(t.p,{children:"This shows us the cost and token usage:"}),(0,s.jsx)("a",{href:"/img/strot-dashboard-analysis.png",target:"_blank",rel:"noopener noreferrer",children:(0,s.jsx)("img",{src:"/img/strot-dashboard-analysis.png",alt:"Strot dashboard cost and token analysis",style:{cursor:"pointer"}})}),(0,s.jsx)(t.p,{children:"This shows us the step by step observability into what is happening:"}),(0,s.jsx)("a",{href:"/img/strot-dashboard-step.png",target:"_blank",rel:"noopener noreferrer",children:(0,s.jsx)("img",{src:"/img/strot-dashboard-step.png",alt:"Strot dashboard step by step analysis",style:{cursor:"pointer"}})})]}),(0,s.jsx)(c.A,{title:"Pagination",children:(0,s.jsx)("a",{href:"/img/strot-dashboard-pagination.png",target:"_blank",rel:"noopener noreferrer",children:(0,s.jsx)("img",{src:"/img/strot-dashboard-pagination.png",alt:"Strot dashboard pagination",style:{cursor:"pointer"}})})}),(0,s.jsx)(c.A,{title:"Codegen",children:(0,s.jsx)("a",{href:"/img/strot-dashboard-codegen.png",target:"_blank",rel:"noopener noreferrer",children:(0,s.jsx)("img",{src:"/img/strot-dashboard-codegen.png",alt:"Strot dashboard codegen",style:{cursor:"pointer"}})})})]}),"\n",(0,s.jsxs)(t.p,{children:["We are also learning. This was our attempt at scraping the webpage and using the visual understanding of image models to get to the reviews faster. if you feel this can be improved, feel free to share those with us on ",(0,s.jsx)(t.a,{href:"https://github.com/vertexcover-io/strot/issues",children:"github-issues"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"roadmap",children:"Roadmap"}),"\n",(0,s.jsx)(n.A,{items:["We are already on a path to make this a generic scraper. Currently, our evals sets show the tracking progress on various websites. It will be released soon.","if you would like us to host this as a service for you, we are more than happy to. Come chat with us at [contact email]"]})]})}function x(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},614:(e,t,r)=>{r.d(t,{A:()=>s});r(6540);var o=r(4848);function s({children:e}){return(0,o.jsxs)("div",{style:{backgroundColor:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"8px",padding:"16px",margin:"20px 0",borderLeft:"4px solid #007bff"},children:[(0,o.jsx)("strong",{style:{color:"#007bff",fontSize:"14px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"TL;DR:"}),(0,o.jsx)("div",{style:{marginTop:"8px"},children:e})]})}},3031:(e,t,r)=>{r.d(t,{A:()=>s});r(6540);var o=r(4848);function s({title:e,children:t,isLast:r=!1}){return(0,o.jsxs)("div",{style:{marginBottom:r?"24px":"32px",background:"var(--ifm-background-surface-color, #ffffff)",borderRadius:"12px",padding:"24px",border:"1px solid var(--ifm-color-emphasis-200, #e3e5e7)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.04)",transition:"all 0.2s ease-in-out"},children:[(0,o.jsx)("h4",{style:{fontSize:"1.3rem",fontWeight:"700",marginBottom:"16px",color:"var(--ifm-color-primary, #2e8555)"},children:e}),(0,o.jsx)("div",{style:{fontSize:"1rem",lineHeight:"1.7"},children:t})]})}},4187:(e,t,r)=>{r.d(t,{A:()=>i});r(6540);var o=r(4848);const s=e=>{switch(e){case"good":return"var(--comparison-good)";case"medium":return"var(--comparison-medium)";case"poor":return"var(--comparison-poor)"}};function i({data:e,columns:t,columnHeaders:r}){return(0,o.jsx)("div",{style:{overflowX:"auto",margin:"20px 0"},children:(0,o.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px",border:"1px solid var(--comparison-border)"},children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{style:{backgroundColor:"var(--comparison-header-bg)"},children:[(0,o.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid var(--comparison-border)",fontWeight:"bold"},children:"Feature"}),r.map((e,t)=>(0,o.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid var(--comparison-border)",fontWeight:"bold"},children:e},t))]})}),(0,o.jsx)("tbody",{children:e.map((e,r)=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid var(--comparison-border)",fontWeight:"bold"},children:e.feature}),t.map((t,r)=>{const i=e[t];return(0,o.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid var(--comparison-border)",backgroundColor:s(i.score)},children:i.text},r)})]},r))})]})})}},5271:e=>{e.exports=JSON.parse('{"permalink":"/strot-is-a-review-parser","source":"@site/blog/2025-07-28-strot-review-parser.mdx","title":"Strot - The Review Parser","description":"This is a breakdown into what went into making Strot - The Review Parser.","date":"2025-07-28T00:00:00.000Z","tags":[],"readingTime":4.96,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"strot-is-a-review-parser","title":"Strot - The Review Parser","date":"2025-07-28T00:00:00.000Z","draft":false},"unlisted":false,"nextItem":{"title":"Teaching Claude Code to Work Independently","permalink":"/claude-code-context-engineering-v2"}}')},8453:(e,t,r)=>{r.d(t,{R:()=>a,x:()=>n});var o=r(6540);const s={},i=o.createContext(s);function a(e){const t=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function n(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),o.createElement(i.Provider,{value:t},e.children)}},8700:(e,t,r)=>{r.d(t,{A:()=>s});r(6540);var o=r(4848);function s({items:e,startNumber:t=1}){return(0,o.jsx)("ol",{style:{paddingLeft:"20px",margin:"16px 0",lineHeight:"1.6",listStyle:"decimal",listStyleType:"decimal",listStylePosition:"outside"},start:t,children:e.map((e,t)=>(0,o.jsx)("li",{style:{marginBottom:"8px",paddingLeft:"8px",display:"list-item"},children:e},t))})}},9538:(e,t,r)=>{r.d(t,{A:()=>s});r(6540);var o=r(4848);function s({title:e,children:t}){return(0,o.jsxs)("div",{style:{margin:"48px 0",background:"var(--ifm-background-surface-color, #ffffff)",borderRadius:"12px",padding:"32px",border:"1px solid var(--ifm-color-emphasis-200, #e3e5e7)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.04)"},children:[(0,o.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[(0,o.jsx)("div",{style:{width:"4px",height:"32px",backgroundColor:"var(--ifm-color-primary, #2e8555)",borderRadius:"2px",marginRight:"16px"}}),(0,o.jsx)("h2",{style:{fontSize:"1.8rem",fontWeight:"700",margin:"0",background:"linear-gradient(135deg, var(--ifm-color-primary, #2e8555), var(--ifm-color-primary-light, #33925d))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:e})]}),(0,o.jsx)("div",{style:{height:"1px",background:"linear-gradient(90deg, var(--ifm-color-primary, #2e8555) 0%, transparent 100%)",width:"100%",opacity:.3}})]}),(0,o.jsx)("div",{style:{lineHeight:"1.7"},children:t})]})}}}]);